ORG 000H
SETB P3.1
SETB P3.0
JB P3.0,STOP
START: MOV R0,#10
       MOV R1.#06
      MOV R2,#10
      MOV R3,#00
      MOV R4,#00
      SETB P3.0

BACK1: MOV DPTR,#500H
  B:  MOV A,#00H
     MOV A,@A+ DPTR
MOV R0,A
JNB P3.1,PAUSE
INC DPTR
ACALL DELAY
DJNZ R0,B
INC R3
MOV A,R3
MOV A,@A+DPTR
MOV R5,A
MOV P1,A
MOV R0,#10H
ACALL DELAY
DJNZ R1,BACK1
INC R4
MOV A,R4
MOV DPTR,#500H
MOV A,@A+DPTR
MOV R6,A
MOV P2,A
MOV R1,#10H
DJNZ R2,BACK1
JMP STOP
PAUSE: MOV P0,A
 MOV A,R5
MOV P1,A
MOV A,R6
MOV P2,A
SETB P3.0
RESET: JB P3.2,RESET
      JNB P3.2,STOP
STOP: MOV R5,#00
        MOV R6,#00
     MOV R7,#00
      MOV A,R5
      MOV P0,A
      MOV A,R6
     MOV P1,A
   MOV A,R7
     MOV P2,A
 C: JB P3.0,C
     JNB P3.0 ,START
     DELAY: ACALL D1
          ACALL D2
          RET
    D1: MOV TMOD,#01H
        MOV TH0,#00H
         MOV TL0,#00H
          MOV TCON,#10H
        B1: JNB TCON.5, B1
            RET
   D2: MOV TMOD ,#01H
        MOV TH0,#E1H
       MOV TL0,#5EH
      MOV TCON,#10H
    B2: JNB TCON.5,B2
         RET
ORG 500H
 DB
C0H,F9H,A4H,B0H,99H,92H,82H,F8H,80H,90H

END
 


